{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://weather/./src/getandSavelocalStrgData.js","webpack://weather/./src/getIpData.js","webpack://weather/./src/getUserCityWeather.js","webpack://weather/./src/createWeatherAndMapCard.js","webpack://weather/./src/showLocalStrgData.js","webpack://weather/./src/getCityInputWeather.js","webpack://weather/./src/listItemsClickListener.js","webpack://weather/./src/inputSubmitListener.js","webpack://weather/./src/realizeWeatherForecast.js","webpack://weather/./src/index.js"],"sourcesContent":["export function getlocalStrgData() {\n  const itemsArray = localStorage.getItem(\"items\")\n    ? JSON.parse(localStorage.getItem(\"items\"))\n    : [];\n  return itemsArray;\n}\n\nexport function savelocalStrgData(itemsArray) {\n  if (itemsArray.length > 10) {\n    itemsArray.splice(0, 1);\n  }\n  localStorage.setItem(\"items\", JSON.stringify(itemsArray));\n}\n","export async function getIpData() {\n  try {\n    const response = await fetch(\"https://ipapi.co/json/\");\n\n    if (response.ok) {\n      const data = await response.json();\n      return data;\n    }\n    throw new Error(\"Error\");\n  } catch (e) {\n    console.log(e);\n  }\n  return null;\n}\n","export async function getUserCityWeather(ipData) {\n  const key = \"64f45536de3a12fd1c733f87022e629e\";\n  try {\n    const response = await fetch(\n      `https://api.openweathermap.org/data/2.5/weather?lat=${ipData.latitude}&lon=${ipData.longitude}&appid=${key}`\n    );\n\n    if (response.ok) {\n      const data = await response.json();\n      return data;\n    }\n    throw new Error(\"Invalid City\");\n  } catch (e) {\n    console.log(e);\n  }\n  return null;\n}\n","export function createWeatherAndMapCard(el, weatherData) {\n  el.innerHTML = `\n      <div class=\"weather-box\">\n      <p class=\"city\">${weatherData.name}</p>\n      <p class=\"temp\">${Math.round(weatherData.main.temp - 273)}&deg</p>\n      <p class=\"descr\">${weatherData.weather[0].description}</p>\n      <div class=\"icon\"><img src=\"https://openweathermap.org/img/wn/${\n        weatherData.weather[0].icon\n      }@2x.png\"></div>\n      </div>`;\n  const API_MAP = \"AIzaSyCVGDC-uRpiX2HiexHVIBHz5k_obk7c1XQ\";\n  const map = document.createElement(\"div\");\n  map.classList.add(\"map\");\n  el.querySelector(\".weather-box\").append(map);\n  map.innerHTML = `<img src=\"https://maps.googleapis.com/maps/api/staticmap?center=${weatherData.name}&zoom=9&size=300x300&&markers=size:mid%7Ccolor:0xFFFF00%7C${weatherData.name}&key=${API_MAP}\">`;\n}\n","export function showLocalStrgData(itemsArray, el) {\n  el.innerHTML = `${itemsArray.map((item) => `<li>${item}</li>`).join(\"\")}`;\n}\n","const key = \"64f45536de3a12fd1c733f87022e629e\";\n\nexport async function getCityInputWeather(cityName) {\n  try {\n    const response = await fetch(\n      `https://api.openweathermap.org/data/2.5/weather?units=metric&q=${cityName}&appid=${key}`\n    );\n\n    if (response.ok) {\n      const data = await response.json();\n      return data;\n    }\n    throw new Error(\"Invalid Input\");\n  } catch (e) {\n    console.log(e);\n  }\n  return null;\n}\n","import { getCityInputWeather } from \"./getCityInputWeather\";\nimport { createWeatherAndMapCard } from \"./createWeatherAndMapCard\";\n\nexport function listItemsClickListener() {\n  const listItems = document.querySelectorAll(\"li\");\n  listItems.forEach((item) => {\n    item.addEventListener(\"click\", async () => {\n      const weatherCard = document.querySelector(\".weather-wrapper\");\n      const cityName = item.textContent;\n      const weatherData = await getCityInputWeather(cityName);\n      createWeatherAndMapCard(weatherCard, weatherData);\n    });\n  });\n}\n","import { getCityInputWeather } from \"./getCityInputWeather\";\nimport { createWeatherAndMapCard } from \"./createWeatherAndMapCard\";\nimport { getlocalStrgData, savelocalStrgData } from \"./getandSavelocalStrgData\";\nimport { showLocalStrgData } from \"./showLocalStrgData\";\nimport { listItemsClickListener } from \"./listItemsClickListener\";\n\nexport function inputSubmitListener() {\n  const form = document.querySelector(\"form\");\n  const input = document.querySelector(\"input\");\n  const ul = document.querySelector(\"ul\");\n  const weatherCard = document.querySelector(\".weather-wrapper\");\n  form.addEventListener(\"submit\", async (ev) => {\n    ev.preventDefault();\n    const cityName = input.value;\n    const itemsArray = await getlocalStrgData();\n    const weatherData = await getCityInputWeather(cityName);\n    createWeatherAndMapCard(weatherCard, weatherData);\n    itemsArray.push(cityName);\n    savelocalStrgData(itemsArray);\n    showLocalStrgData(itemsArray, ul);\n    input.value = \"\";\n    listItemsClickListener();\n  });\n}\n","import { getlocalStrgData } from \"./getandSavelocalStrgData\";\nimport { getIpData } from \"./getIpData\";\nimport { getUserCityWeather } from \"./getUserCityWeather\";\nimport { createWeatherAndMapCard } from \"./createWeatherAndMapCard\";\nimport { showLocalStrgData } from \"./showLocalStrgData\";\nimport { inputSubmitListener } from \"./inputSubmitListener\";\nimport { listItemsClickListener } from \"./listItemsClickListener\";\n\nexport async function realizeWeatherForecast(el) {\n  el.innerHTML = `\n  <div class=\"container\">\n    <div class=\"weather-wrapper\"></div>\n  </div>\n  `;\n  const container = document.querySelector(\".container\");\n  const itemsArray = await getlocalStrgData();\n  const ipData = await getIpData();\n  const weatherData = await getUserCityWeather(ipData);\n  container.innerHTML += `\n  <div class=\"form-wrapper\">\n    <div class=\"form\">\n      <form>\n        <input type=\"text\" placeholder=\"Введите город\" required autofocus>\n        <button>Узнать погоду</button>\n      </form>\n    </div>\n    <div class=\"list\"><ul></ul></div>\n  </div>\n  `;\n  const weatherCard = document.querySelector(\".weather-wrapper\");\n  const ul = document.querySelector(\"ul\");\n  createWeatherAndMapCard(weatherCard, weatherData);\n  showLocalStrgData(itemsArray, ul);\n  inputSubmitListener();\n  listItemsClickListener();\n}\n","import \"../css/styles.css\";\nimport { realizeWeatherForecast } from \"./realizeWeatherForecast\";\n\nconst el = document.querySelector(\"#app\");\nrealizeWeatherForecast(el);\n"],"names":["getlocalStrgData","localStorage","getItem","JSON","parse","savelocalStrgData","itemsArray","length","splice","setItem","stringify","getIpData","fetch","response","ok","json","data","Error","console","log","getUserCityWeather","ipData","latitude","longitude","createWeatherAndMapCard","el","weatherData","innerHTML","name","Math","round","main","temp","weather","description","icon","map","document","createElement","classList","add","querySelector","append","showLocalStrgData","item","join","key","getCityInputWeather","cityName","i","listItemsClickListener","querySelectorAll","forEach","addEventListener","weatherCard","textContent","inputSubmitListener","form","input","ul","ev","preventDefault","value","push","container","realizeWeatherForecast"],"sourceRoot":""}